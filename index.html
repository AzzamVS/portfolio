<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Engineering Portfolio | Design & Dev</title>
    
    <link rel="stylesheet" href="style.css">

    <script type="importmap">
      {
        "imports": {
          "three": "https://unpkg.com/three@0.160.0/build/three.module.js",
          "three/addons/": "https://unpkg.com/three@0.160.0/examples/jsm/"
        }
      }
    </script>
</head>
<body>

    <nav>
        <div class="logo">DESIGN<span>&</span>CODE</div>
        <ul>
            <li><a href="#work">Work</a></li>
            <li><a href="#skills">Skills</a></li>
            <li><a href="#contact">Contact</a></li>
        </ul>
    </nav>

    <header class="hero">
        <h1>Engineering the <br><span class="highlight">Mechanical & Digital</span></h1>
        <p>Specializing in 3D Modeling, Mechanical Animation, and Web Development.</p>
        <a href="#work" class="btn">View My Projects</a>
    </header>

    <section class="interactive-showcase">
        <h2>Interactive Prototype</h2>
        <div id="three-container" class="viewer-container" style="width: 100%; height: 550px; background: #151f32; border-radius: 20px; position: relative;">
            <div id="loading-spinner" style="position: absolute; top: 50%; left: 50%; transform: translate(-50%, -50%); color: #2dd4bf;">
                Loading CAD Geometry...
            </div>
        </div>
        <p class="hint">Right-click to Pan | Left-click to Rotate | Scroll to Zoom</p>
    </section>

    <section id="work" class="portfolio">
        <h2 class="section-title">Selected Projects</h2>
        <div class="grid">
            
            <div class="card">
                <div class="card-image" style="background-image: url('revolver-thumb.jpg');"></div>
                <div class="card-content">
                    <h3>Toy Revolver Design</h3>
                    <p>Functional assembly designed for 3D printing with internal moving parts.</p>
                    <div class="tags">
                        <span class="tag">SOLIDWORKS</span>
                        <span class="tag">Blender</span>
                    </div>
                </div>
            </div>

            <div class="card">
                <div class="card-image" style="background-image: url('water-app-thumb.jpg');"></div>
                <div class="card-content">
                    <h3>Water Level Monitor</h3>
                    <p>A web application built to track and visualize fluid levels in real-time.</p>
                    <div class="tags">
                        <span class="tag">JavaScript</span>
                        <span class="tag">PWA</span>
                    </div>
                </div>
            </div>

            <div class="card">
                <div class="card-image" style="background-image: url('mechanism-thumb.jpg');"></div>
                <div class="card-content">
                    <h3>Mechanism Animation</h3>
                    <p>Exploded view and mechanical cycle animation rendered in Blender.</p>
                    <div class="tags">
                        <span class="tag">Animation</span>
                        <span class="tag">Rendering</span>
                    </div>
                </div>
            </div>

        </div>
    </section>

    <section id="skills" class="skills">
        <h2>Technical Toolbox</h2>
        <div class="skills-grid">
            <span>Blender</span>
            <span>SOLIDWORKS</span>
            <span>Google Sheets / Apps Script</span>
            <span>JavaScript</span>
            <span>HTML & CSS</span>
        </div>
    </section>

    <footer>
        <p>&copy; 2026 | Portfolio Project</p>
    </footer>

    <script type="module">
    import * as THREE from 'three';
    import { GLTFLoader } from 'three/addons/loaders/GLTFLoader.js';
    import { OrbitControls } from 'three/addons/controls/OrbitControls.js';

    const container = document.getElementById('three-container');
    const scene = new THREE.Scene();
    scene.background = new THREE.Color(0x151f32); 

    const camera = new THREE.PerspectiveCamera(45, container.clientWidth / container.clientHeight, 0.1, 1000);
    camera.position.set(4, 4, 4);

    const renderer = new THREE.WebGLRenderer({ antialias: true });
    renderer.setSize(container.clientWidth, container.clientHeight);
    renderer.setPixelRatio(window.devicePixelRatio);
    container.appendChild(renderer.domElement);

    scene.add(new THREE.AmbientLight(0xffffff, 1.5));
    const dirLight = new THREE.DirectionalLight(0xffffff, 1);
    dirLight.position.set(5, 10, 7);
    scene.add(dirLight);

    // --- RESTRICTIONS & CONTROLS ---
    const controls = new OrbitControls(camera, renderer.domElement);
    controls.enableDamping = true;
    
    // Limits (Adjust these to your liking)
    controls.minDistance = 2;   // Prevent zooming too close
    controls.maxDistance = 10;  // Prevent zooming too far away
    controls.minPolarAngle = Math.PI / 4;   // Restrict vertical rotation (Top)
    controls.maxPolarAngle = Math.PI / 1.5; // Restrict vertical rotation (Bottom)
    
    // Disable panning if you preferred it restricted
    controls.enablePan = false; 

    const loader = new GLTFLoader();
    loader.load('your-model.glb', (gltf) => {
        const model = gltf.scene;
        
        // FIX ORIENTATION: Rotates model to stand upright
        model.rotation.x = -Math.PI / 2; 

        model.traverse((node) => {
            if (node.isMesh) {
                // Generate the sharp CAD lines
                const edges = new THREE.EdgesGeometry(node.geometry, 25); 
                const line = new THREE.LineSegments(
                    edges, 
                    new THREE.LineBasicMaterial({ color: 0x000000 }) 
                );
                node.add(line);
                
                // REMOVED: The code that was forcing colors to Seafoam Green
                // Now it will use the colors from your GLB file.
            }
        });

        scene.add(model);
        document.getElementById('loading-spinner').style.display = 'none';
        
        const box = new THREE.Box3().setFromObject(model);
        const center = box.getCenter(new THREE.Vector3());
        controls.target.copy(center);
    });

    function animate() {
        requestAnimationFrame(animate);
        controls.update();
        renderer.render(scene, camera);
    }
    animate();

    window.addEventListener('resize', () => {
        camera.aspect = container.clientWidth / container.clientHeight;
        camera.updateProjectionMatrix();
        renderer.setSize(container.clientWidth, container.clientHeight);
    });
    </script>
    
</body>
</html>
